import{e as ue,R as V,d as T,j as o,n as _e,r as c,o as kt,m as Ze,l as ce,P as A,p as zn,f as E,i as At,q as Re,s as Tt,A as qe,k as ne,t as Zn,D as Ot,C as Lt,v as Dt,w as Ft,a as qn,L as N}from"./index-XnMTmJ1N.js";import{u as Ne,s as H}from"./useUsuario-DUZRc8QX.js";function $t(e){const t=e+"CollectionProvider",[n,r]=ue(t),[a,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=p=>{const{scope:g,children:h}=p,w=V.useRef(null),C=V.useRef(new Map).current;return o.jsx(a,{scope:g,itemMap:C,collectionRef:w,children:h})};i.displayName=t;const l=e+"CollectionSlot",u=_e(l),m=V.forwardRef((p,g)=>{const{scope:h,children:w}=p,C=s(l,h),y=T(g,C.collectionRef);return o.jsx(u,{ref:y,children:w})});m.displayName=l;const f=e+"CollectionItemSlot",d="data-radix-collection-item",v=_e(f),x=V.forwardRef((p,g)=>{const{scope:h,children:w,...C}=p,y=V.useRef(null),M=T(g,y),j=s(f,h);return V.useEffect(()=>(j.itemMap.set(y,{ref:y,...C}),()=>void j.itemMap.delete(y))),o.jsx(v,{[d]:"",ref:M,children:w})});x.displayName=f;function b(p){const g=s(e+"CollectionConsumer",p);return V.useCallback(()=>{const w=g.collectionRef.current;if(!w)return[];const C=Array.from(w.querySelectorAll(`[${d}]`));return Array.from(g.itemMap.values()).sort((j,R)=>C.indexOf(j.ref.current)-C.indexOf(R.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:i,Slot:m,ItemSlot:x},b,r]}var Qn=kt[" useInsertionEffect ".trim().toString()]||Ze;function Qe({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[a,s,i]=Jn({defaultProp:t,onChange:n}),l=e!==void 0,u=l?e:a;{const f=c.useRef(e!==void 0);c.useEffect(()=>{const d=f.current;d!==l&&console.warn(`${r} is changing from ${d?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,r])}const m=c.useCallback(f=>{var d;if(l){const v=er(f)?f(e):f;v!==e&&((d=i.current)==null||d.call(i,v))}else s(f)},[l,e,s,i]);return[u,m]}function Jn({defaultProp:e,onChange:t}){const[n,r]=c.useState(e),a=c.useRef(n),s=c.useRef(t);return Qn(()=>{s.current=t},[t]),c.useEffect(()=>{var i;a.current!==n&&((i=s.current)==null||i.call(s,n),a.current=n)},[n,a]),[n,r,s]}function er(e){return typeof e=="function"}var tr=kt[" useId ".trim().toString()]||(()=>{}),nr=0;function Ee(e){const[t,n]=c.useState(tr());return Ze(()=>{n(r=>r??String(nr++))},[e]),e||(t?`radix-${t}`:"")}var Fe="focusScope.autoFocusOnMount",$e="focusScope.autoFocusOnUnmount",pt={bubbles:!1,cancelable:!0},rr="FocusScope",Je=c.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:s,...i}=e,[l,u]=c.useState(null),m=ce(a),f=ce(s),d=c.useRef(null),v=T(t,p=>u(p)),x=c.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;c.useEffect(()=>{if(r){let p=function(C){if(x.paused||!l)return;const y=C.target;l.contains(y)?d.current=y:G(d.current,{select:!0})},g=function(C){if(x.paused||!l)return;const y=C.relatedTarget;y!==null&&(l.contains(y)||G(d.current,{select:!0}))},h=function(C){if(document.activeElement===document.body)for(const M of C)M.removedNodes.length>0&&G(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",g);const w=new MutationObserver(h);return l&&w.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",g),w.disconnect()}}},[r,l,x.paused]),c.useEffect(()=>{if(l){mt.add(x);const p=document.activeElement;if(!l.contains(p)){const h=new CustomEvent(Fe,pt);l.addEventListener(Fe,m),l.dispatchEvent(h),h.defaultPrevented||(or(lr(Kt(l)),{select:!0}),document.activeElement===p&&G(l))}return()=>{l.removeEventListener(Fe,m),setTimeout(()=>{const h=new CustomEvent($e,pt);l.addEventListener($e,f),l.dispatchEvent(h),h.defaultPrevented||G(p??document.body,{select:!0}),l.removeEventListener($e,f),mt.remove(x)},0)}}},[l,m,f,x]);const b=c.useCallback(p=>{if(!n&&!r||x.paused)return;const g=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,h=document.activeElement;if(g&&h){const w=p.currentTarget,[C,y]=ar(w);C&&y?!p.shiftKey&&h===y?(p.preventDefault(),n&&G(C,{select:!0})):p.shiftKey&&h===C&&(p.preventDefault(),n&&G(y,{select:!0})):h===w&&p.preventDefault()}},[n,r,x.paused]);return o.jsx(A.div,{tabIndex:-1,...i,ref:v,onKeyDown:b})});Je.displayName=rr;function or(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(G(r,{select:t}),document.activeElement!==n)return}function ar(e){const t=Kt(e),n=vt(t,e),r=vt(t.reverse(),e);return[n,r]}function Kt(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function vt(e,t){for(const n of e)if(!sr(n,{upTo:t}))return n}function sr(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function cr(e){return e instanceof HTMLInputElement&&"select"in e}function G(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&cr(e)&&t&&e.select()}}var mt=ir();function ir(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=ht(e,t),e.unshift(t)},remove(t){var n;e=ht(e,t),(n=e[0])==null||n.resume()}}}function ht(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function lr(e){return e.filter(t=>t.tagName!=="A")}var ur="Portal",et=c.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[a,s]=c.useState(!1);Ze(()=>s(!0),[]);const i=n||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?zn.createPortal(o.jsx(A.div,{...r,ref:t}),i):null});et.displayName=ur;var Ke=0;function Bt(){c.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??gt()),document.body.insertAdjacentElement("beforeend",e[1]??gt()),Ke++,()=>{Ke===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Ke--}},[])}function gt(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var D=function(){return D=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},D.apply(this,arguments)};function Gt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function dr(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,s;r<a;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var be="right-scroll-bar-position",ye="width-before-scroll-bar",fr="with-scroll-bars-hidden",pr="--removed-body-scroll-bar-size";function Be(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function vr(e,t){var n=c.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var a=n.value;a!==r&&(n.value=r,n.callback(r,a))}}}})[0];return n.callback=t,n.facade}var mr=typeof window<"u"?c.useLayoutEffect:c.useEffect,xt=new WeakMap;function hr(e,t){var n=vr(null,function(r){return e.forEach(function(a){return Be(a,r)})});return mr(function(){var r=xt.get(n);if(r){var a=new Set(r),s=new Set(e),i=n.current;a.forEach(function(l){s.has(l)||Be(l,null)}),s.forEach(function(l){a.has(l)||Be(l,i)})}xt.set(n,e)},[e]),n}function gr(e){return e}function xr(e,t){t===void 0&&(t=gr);var n=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var i=t(s,r);return n.push(i),function(){n=n.filter(function(l){return l!==i})}},assignSyncMedium:function(s){for(r=!0;n.length;){var i=n;n=[],i.forEach(s)}n={push:function(l){return s(l)},filter:function(){return n}}},assignMedium:function(s){r=!0;var i=[];if(n.length){var l=n;n=[],l.forEach(s),i=n}var u=function(){var f=i;i=[],f.forEach(s)},m=function(){return Promise.resolve().then(u)};m(),n={push:function(f){i.push(f),m()},filter:function(f){return i=i.filter(f),n}}}};return a}function Cr(e){e===void 0&&(e={});var t=xr(null);return t.options=D({async:!0,ssr:!1},e),t}var Ut=function(e){var t=e.sideCar,n=Gt(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return c.createElement(r,D({},n))};Ut.isSideCarExport=!0;function wr(e,t){return e.useMedium(t),Ut}var Wt=Cr(),Ge=function(){},je=c.forwardRef(function(e,t){var n=c.useRef(null),r=c.useState({onScrollCapture:Ge,onWheelCapture:Ge,onTouchMoveCapture:Ge}),a=r[0],s=r[1],i=e.forwardProps,l=e.children,u=e.className,m=e.removeScrollBar,f=e.enabled,d=e.shards,v=e.sideCar,x=e.noRelative,b=e.noIsolation,p=e.inert,g=e.allowPinchZoom,h=e.as,w=h===void 0?"div":h,C=e.gapMode,y=Gt(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=v,j=hr([n,t]),R=D(D({},y),a);return c.createElement(c.Fragment,null,f&&c.createElement(M,{sideCar:Wt,removeScrollBar:m,shards:d,noRelative:x,noIsolation:b,inert:p,setCallbacks:s,allowPinchZoom:!!g,lockRef:n,gapMode:C}),i?c.cloneElement(c.Children.only(l),D(D({},R),{ref:j})):c.createElement(w,D({},R,{className:u,ref:j}),l))});je.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};je.classNames={fullWidth:ye,zeroRight:be};var br=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function yr(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=br();return t&&e.setAttribute("nonce",t),e}function _r(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Er(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Mr=function(){var e=0,t=null;return{add:function(n){e==0&&(t=yr())&&(_r(t,n),Er(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Sr=function(){var e=Mr();return function(t,n){c.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Vt=function(){var e=Sr(),t=function(n){var r=n.styles,a=n.dynamic;return e(r,a),null};return t},Rr={left:0,top:0,right:0,gap:0},Ue=function(e){return parseInt(e||"",10)||0},Nr=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Ue(n),Ue(r),Ue(a)]},jr=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Rr;var t=Nr(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Pr=Vt(),ee="data-scroll-locked",Ir=function(e,t,n,r){var a=e.left,s=e.top,i=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(fr,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(ee,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(be,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(ye,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(be," .").concat(be,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ye," .").concat(ye,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ee,`] {
    `).concat(pr,": ").concat(l,`px;
  }
`)},Ct=function(){var e=parseInt(document.body.getAttribute(ee)||"0",10);return isFinite(e)?e:0},kr=function(){c.useEffect(function(){return document.body.setAttribute(ee,(Ct()+1).toString()),function(){var e=Ct()-1;e<=0?document.body.removeAttribute(ee):document.body.setAttribute(ee,e.toString())}},[])},Ar=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,a=r===void 0?"margin":r;kr();var s=c.useMemo(function(){return jr(a)},[a]);return c.createElement(Pr,{styles:Ir(s,!t,a,n?"":"!important")})},Ye=!1;if(typeof window<"u")try{var ge=Object.defineProperty({},"passive",{get:function(){return Ye=!0,!0}});window.addEventListener("test",ge,ge),window.removeEventListener("test",ge,ge)}catch{Ye=!1}var q=Ye?{passive:!1}:!1,Tr=function(e){return e.tagName==="TEXTAREA"},Ht=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Tr(e)&&n[t]==="visible")},Or=function(e){return Ht(e,"overflowY")},Lr=function(e){return Ht(e,"overflowX")},wt=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=Yt(e,r);if(a){var s=Xt(e,r),i=s[1],l=s[2];if(i>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Dr=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Fr=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Yt=function(e,t){return e==="v"?Or(t):Lr(t)},Xt=function(e,t){return e==="v"?Dr(t):Fr(t)},$r=function(e,t){return e==="h"&&t==="rtl"?-1:1},Kr=function(e,t,n,r,a){var s=$r(e,window.getComputedStyle(t).direction),i=s*r,l=n.target,u=t.contains(l),m=!1,f=i>0,d=0,v=0;do{var x=Xt(e,l),b=x[0],p=x[1],g=x[2],h=p-g-s*b;(b||h)&&Yt(e,l)&&(d+=h,v+=b),l=l.parentNode.host||l.parentNode}while(!u&&l!==document.body||u&&(t.contains(l)||t===l));return(f&&Math.abs(d)<1||!f&&Math.abs(v)<1)&&(m=!0),m},xe=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},bt=function(e){return[e.deltaX,e.deltaY]},yt=function(e){return e&&"current"in e?e.current:e},Br=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Gr=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Ur=0,Q=[];function Wr(e){var t=c.useRef([]),n=c.useRef([0,0]),r=c.useRef(),a=c.useState(Ur++)[0],s=c.useState(Vt)[0],i=c.useRef(e);c.useEffect(function(){i.current=e},[e]),c.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=dr([e.lockRef.current],(e.shards||[]).map(yt),!0).filter(Boolean);return p.forEach(function(g){return g.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=c.useCallback(function(p,g){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!i.current.allowPinchZoom;var h=xe(p),w=n.current,C="deltaX"in p?p.deltaX:w[0]-h[0],y="deltaY"in p?p.deltaY:w[1]-h[1],M,j=p.target,R=Math.abs(C)>Math.abs(y)?"h":"v";if("touches"in p&&R==="h"&&j.type==="range")return!1;var S=wt(R,j);if(!S)return!0;if(S?M=R:(M=R==="v"?"h":"v",S=wt(R,j)),!S)return!1;if(!r.current&&"changedTouches"in p&&(C||y)&&(r.current=M),!M)return!0;var F=r.current||M;return Kr(F,g,p,F==="h"?C:y)},[]),u=c.useCallback(function(p){var g=p;if(!(!Q.length||Q[Q.length-1]!==s)){var h="deltaY"in g?bt(g):xe(g),w=t.current.filter(function(M){return M.name===g.type&&(M.target===g.target||g.target===M.shadowParent)&&Br(M.delta,h)})[0];if(w&&w.should){g.cancelable&&g.preventDefault();return}if(!w){var C=(i.current.shards||[]).map(yt).filter(Boolean).filter(function(M){return M.contains(g.target)}),y=C.length>0?l(g,C[0]):!i.current.noIsolation;y&&g.cancelable&&g.preventDefault()}}},[]),m=c.useCallback(function(p,g,h,w){var C={name:p,delta:g,target:h,should:w,shadowParent:Vr(h)};t.current.push(C),setTimeout(function(){t.current=t.current.filter(function(y){return y!==C})},1)},[]),f=c.useCallback(function(p){n.current=xe(p),r.current=void 0},[]),d=c.useCallback(function(p){m(p.type,bt(p),p.target,l(p,e.lockRef.current))},[]),v=c.useCallback(function(p){m(p.type,xe(p),p.target,l(p,e.lockRef.current))},[]);c.useEffect(function(){return Q.push(s),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:v}),document.addEventListener("wheel",u,q),document.addEventListener("touchmove",u,q),document.addEventListener("touchstart",f,q),function(){Q=Q.filter(function(p){return p!==s}),document.removeEventListener("wheel",u,q),document.removeEventListener("touchmove",u,q),document.removeEventListener("touchstart",f,q)}},[]);var x=e.removeScrollBar,b=e.inert;return c.createElement(c.Fragment,null,b?c.createElement(s,{styles:Gr(a)}):null,x?c.createElement(Ar,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Vr(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Hr=wr(Wt,Wr);var tt=c.forwardRef(function(e,t){return c.createElement(je,D({},e,{ref:t,sideCar:Hr}))});tt.classNames=je.classNames;var Yr=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},J=new WeakMap,Ce=new WeakMap,we={},We=0,zt=function(e){return e&&(e.host||zt(e.parentNode))},Xr=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=zt(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},zr=function(e,t,n,r){var a=Xr(t,Array.isArray(e)?e:[e]);we[n]||(we[n]=new WeakMap);var s=we[n],i=[],l=new Set,u=new Set(a),m=function(d){!d||l.has(d)||(l.add(d),m(d.parentNode))};a.forEach(m);var f=function(d){!d||u.has(d)||Array.prototype.forEach.call(d.children,function(v){if(l.has(v))f(v);else try{var x=v.getAttribute(r),b=x!==null&&x!=="false",p=(J.get(v)||0)+1,g=(s.get(v)||0)+1;J.set(v,p),s.set(v,g),i.push(v),p===1&&b&&Ce.set(v,!0),g===1&&v.setAttribute(n,"true"),b||v.setAttribute(r,"true")}catch(h){console.error("aria-hidden: cannot operate on ",v,h)}})};return f(t),l.clear(),We++,function(){i.forEach(function(d){var v=J.get(d)-1,x=s.get(d)-1;J.set(d,v),s.set(d,x),v||(Ce.has(d)||d.removeAttribute(r),Ce.delete(d)),x||d.removeAttribute(n)}),We--,We||(J=new WeakMap,J=new WeakMap,Ce=new WeakMap,we={})}},Zt=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=Yr(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live], script"))),zr(r,a,n,"aria-hidden")):function(){return null}},Ve="rovingFocusGroup.onEntryFocus",Zr={bubbles:!1,cancelable:!0},de="RovingFocusGroup",[Xe,qt,qr]=$t(de),[Qr,Qt]=ue(de,[qr]),[Jr,eo]=Qr(de),Jt=c.forwardRef((e,t)=>o.jsx(Xe.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(Xe.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(to,{...e,ref:t})})}));Jt.displayName=de;var to=c.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:a=!1,dir:s,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:u,onEntryFocus:m,preventScrollOnEntryFocus:f=!1,...d}=e,v=c.useRef(null),x=T(t,v),b=At(s),[p,g]=Qe({prop:i,defaultProp:l??null,onChange:u,caller:de}),[h,w]=c.useState(!1),C=ce(m),y=qt(n),M=c.useRef(!1),[j,R]=c.useState(0);return c.useEffect(()=>{const S=v.current;if(S)return S.addEventListener(Ve,C),()=>S.removeEventListener(Ve,C)},[C]),o.jsx(Jr,{scope:n,orientation:r,dir:b,loop:a,currentTabStopId:p,onItemFocus:c.useCallback(S=>g(S),[g]),onItemShiftTab:c.useCallback(()=>w(!0),[]),onFocusableItemAdd:c.useCallback(()=>R(S=>S+1),[]),onFocusableItemRemove:c.useCallback(()=>R(S=>S-1),[]),children:o.jsx(A.div,{tabIndex:h||j===0?-1:0,"data-orientation":r,...d,ref:x,style:{outline:"none",...e.style},onMouseDown:E(e.onMouseDown,()=>{M.current=!0}),onFocus:E(e.onFocus,S=>{const F=!M.current;if(S.target===S.currentTarget&&F&&!h){const W=new CustomEvent(Ve,Zr);if(S.currentTarget.dispatchEvent(W),!W.defaultPrevented){const re=y().filter($=>$.focusable),oe=re.find($=>$.active),me=re.find($=>$.id===p),Oe=[oe,me,...re].filter(Boolean).map($=>$.ref.current);nn(Oe,f)}}M.current=!1}),onBlur:E(e.onBlur,()=>w(!1))})})}),en="RovingFocusGroupItem",tn=c.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:a=!1,tabStopId:s,children:i,...l}=e,u=Ee(),m=s||u,f=eo(en,n),d=f.currentTabStopId===m,v=qt(n),{onFocusableItemAdd:x,onFocusableItemRemove:b,currentTabStopId:p}=f;return c.useEffect(()=>{if(r)return x(),()=>b()},[r,x,b]),o.jsx(Xe.ItemSlot,{scope:n,id:m,focusable:r,active:a,children:o.jsx(A.span,{tabIndex:d?0:-1,"data-orientation":f.orientation,...l,ref:t,onMouseDown:E(e.onMouseDown,g=>{r?f.onItemFocus(m):g.preventDefault()}),onFocus:E(e.onFocus,()=>f.onItemFocus(m)),onKeyDown:E(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){f.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const h=oo(g,f.orientation,f.dir);if(h!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let C=v().filter(y=>y.focusable).map(y=>y.ref.current);if(h==="last")C.reverse();else if(h==="prev"||h==="next"){h==="prev"&&C.reverse();const y=C.indexOf(g.currentTarget);C=f.loop?ao(C,y+1):C.slice(y+1)}setTimeout(()=>nn(C))}}),children:typeof i=="function"?i({isCurrentTabStop:d,hasTabStop:p!=null}):i})})});tn.displayName=en;var no={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ro(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function oo(e,t,n){const r=ro(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return no[r]}function nn(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function ao(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var so=Jt,co=tn,ze=["Enter"," "],io=["ArrowDown","PageUp","Home"],rn=["ArrowUp","PageDown","End"],lo=[...io,...rn],uo={ltr:[...ze,"ArrowRight"],rtl:[...ze,"ArrowLeft"]},fo={ltr:["ArrowLeft"],rtl:["ArrowRight"]},fe="Menu",[ie,po,vo]=$t(fe),[Y,on]=ue(fe,[vo,Re,Qt]),Pe=Re(),an=Qt(),[mo,X]=Y(fe),[ho,pe]=Y(fe),sn=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:a,onOpenChange:s,modal:i=!0}=e,l=Pe(t),[u,m]=c.useState(null),f=c.useRef(!1),d=ce(s),v=At(a);return c.useEffect(()=>{const x=()=>{f.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>f.current=!1;return document.addEventListener("keydown",x,{capture:!0}),()=>{document.removeEventListener("keydown",x,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),o.jsx(Tt,{...l,children:o.jsx(mo,{scope:t,open:n,onOpenChange:d,content:u,onContentChange:m,children:o.jsx(ho,{scope:t,onClose:c.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:f,dir:v,modal:i,children:r})})})};sn.displayName=fe;var go="MenuAnchor",nt=c.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,a=Pe(n);return o.jsx(qe,{...a,...r,ref:t})});nt.displayName=go;var rt="MenuPortal",[xo,cn]=Y(rt,{forceMount:void 0}),ln=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:a}=e,s=X(rt,t);return o.jsx(xo,{scope:t,forceMount:n,children:o.jsx(ne,{present:n||s.open,children:o.jsx(et,{asChild:!0,container:a,children:r})})})};ln.displayName=rt;var k="MenuContent",[Co,ot]=Y(k),un=c.forwardRef((e,t)=>{const n=cn(k,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,s=X(k,e.__scopeMenu),i=pe(k,e.__scopeMenu);return o.jsx(ie.Provider,{scope:e.__scopeMenu,children:o.jsx(ne,{present:r||s.open,children:o.jsx(ie.Slot,{scope:e.__scopeMenu,children:i.modal?o.jsx(wo,{...a,ref:t}):o.jsx(bo,{...a,ref:t})})})})}),wo=c.forwardRef((e,t)=>{const n=X(k,e.__scopeMenu),r=c.useRef(null),a=T(t,r);return c.useEffect(()=>{const s=r.current;if(s)return Zt(s)},[]),o.jsx(at,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:E(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),bo=c.forwardRef((e,t)=>{const n=X(k,e.__scopeMenu);return o.jsx(at,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),yo=_e("MenuContent.ScrollLock"),at=c.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:u,onEscapeKeyDown:m,onPointerDownOutside:f,onFocusOutside:d,onInteractOutside:v,onDismiss:x,disableOutsideScroll:b,...p}=e,g=X(k,n),h=pe(k,n),w=Pe(n),C=an(n),y=po(n),[M,j]=c.useState(null),R=c.useRef(null),S=T(t,R,g.onContentChange),F=c.useRef(0),W=c.useRef(""),re=c.useRef(0),oe=c.useRef(null),me=c.useRef("right"),he=c.useRef(0),Oe=b?tt:c.Fragment,$=b?{as:yo,allowPinchZoom:!0}:void 0,Xn=_=>{var Z,dt;const I=W.current+_,O=y().filter(K=>!K.disabled),B=document.activeElement,Le=(Z=O.find(K=>K.ref.current===B))==null?void 0:Z.textValue,De=O.map(K=>K.textValue),ut=To(De,I,Le),ae=(dt=O.find(K=>K.textValue===ut))==null?void 0:dt.ref.current;(function K(ft){W.current=ft,window.clearTimeout(F.current),ft!==""&&(F.current=window.setTimeout(()=>K(""),1e3))})(I),ae&&setTimeout(()=>ae.focus())};c.useEffect(()=>()=>window.clearTimeout(F.current),[]),Bt();const z=c.useCallback(_=>{var O,B;return me.current===((O=oe.current)==null?void 0:O.side)&&Lo(_,(B=oe.current)==null?void 0:B.area)},[]);return o.jsx(Co,{scope:n,searchRef:W,onItemEnter:c.useCallback(_=>{z(_)&&_.preventDefault()},[z]),onItemLeave:c.useCallback(_=>{var I;z(_)||((I=R.current)==null||I.focus(),j(null))},[z]),onTriggerLeave:c.useCallback(_=>{z(_)&&_.preventDefault()},[z]),pointerGraceTimerRef:re,onPointerGraceIntentChange:c.useCallback(_=>{oe.current=_},[]),children:o.jsx(Oe,{...$,children:o.jsx(Je,{asChild:!0,trapped:a,onMountAutoFocus:E(s,_=>{var I;_.preventDefault(),(I=R.current)==null||I.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:o.jsx(Ot,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:m,onPointerDownOutside:f,onFocusOutside:d,onInteractOutside:v,onDismiss:x,children:o.jsx(so,{asChild:!0,...C,dir:h.dir,orientation:"vertical",loop:r,currentTabStopId:M,onCurrentTabStopIdChange:j,onEntryFocus:E(u,_=>{h.isUsingKeyboardRef.current||_.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(Lt,{role:"menu","aria-orientation":"vertical","data-state":Sn(g.open),"data-radix-menu-content":"",dir:h.dir,...w,...p,ref:S,style:{outline:"none",...p.style},onKeyDown:E(p.onKeyDown,_=>{const O=_.target.closest("[data-radix-menu-content]")===_.currentTarget,B=_.ctrlKey||_.altKey||_.metaKey,Le=_.key.length===1;O&&(_.key==="Tab"&&_.preventDefault(),!B&&Le&&Xn(_.key));const De=R.current;if(_.target!==De||!lo.includes(_.key))return;_.preventDefault();const ae=y().filter(Z=>!Z.disabled).map(Z=>Z.ref.current);rn.includes(_.key)&&ae.reverse(),ko(ae)}),onBlur:E(e.onBlur,_=>{_.currentTarget.contains(_.target)||(window.clearTimeout(F.current),W.current="")}),onPointerMove:E(e.onPointerMove,le(_=>{const I=_.target,O=he.current!==_.clientX;if(_.currentTarget.contains(I)&&O){const B=_.clientX>he.current?"right":"left";me.current=B,he.current=_.clientX}}))})})})})})})});un.displayName=k;var _o="MenuGroup",st=c.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return o.jsx(A.div,{role:"group",...r,ref:t})});st.displayName=_o;var Eo="MenuLabel",dn=c.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return o.jsx(A.div,{...r,ref:t})});dn.displayName=Eo;var Me="MenuItem",_t="menu.itemSelect",Ie=c.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...a}=e,s=c.useRef(null),i=pe(Me,e.__scopeMenu),l=ot(Me,e.__scopeMenu),u=T(t,s),m=c.useRef(!1),f=()=>{const d=s.current;if(!n&&d){const v=new CustomEvent(_t,{bubbles:!0,cancelable:!0});d.addEventListener(_t,x=>r==null?void 0:r(x),{once:!0}),Zn(d,v),v.defaultPrevented?m.current=!1:i.onClose()}};return o.jsx(fn,{...a,ref:u,disabled:n,onClick:E(e.onClick,f),onPointerDown:d=>{var v;(v=e.onPointerDown)==null||v.call(e,d),m.current=!0},onPointerUp:E(e.onPointerUp,d=>{var v;m.current||(v=d.currentTarget)==null||v.click()}),onKeyDown:E(e.onKeyDown,d=>{const v=l.searchRef.current!=="";n||v&&d.key===" "||ze.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});Ie.displayName=Me;var fn=c.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:a,...s}=e,i=ot(Me,n),l=an(n),u=c.useRef(null),m=T(t,u),[f,d]=c.useState(!1),[v,x]=c.useState("");return c.useEffect(()=>{const b=u.current;b&&x((b.textContent??"").trim())},[s.children]),o.jsx(ie.ItemSlot,{scope:n,disabled:r,textValue:a??v,children:o.jsx(co,{asChild:!0,...l,focusable:!r,children:o.jsx(A.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:m,onPointerMove:E(e.onPointerMove,le(b=>{r?i.onItemLeave(b):(i.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:E(e.onPointerLeave,le(b=>i.onItemLeave(b))),onFocus:E(e.onFocus,()=>d(!0)),onBlur:E(e.onBlur,()=>d(!1))})})})}),Mo="MenuCheckboxItem",pn=c.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...a}=e;return o.jsx(xn,{scope:e.__scopeMenu,checked:n,children:o.jsx(Ie,{role:"menuitemcheckbox","aria-checked":Se(n)?"mixed":n,...a,ref:t,"data-state":it(n),onSelect:E(a.onSelect,()=>r==null?void 0:r(Se(n)?!0:!n),{checkForDefaultPrevented:!1})})})});pn.displayName=Mo;var vn="MenuRadioGroup",[So,Ro]=Y(vn,{value:void 0,onValueChange:()=>{}}),mn=c.forwardRef((e,t)=>{const{value:n,onValueChange:r,...a}=e,s=ce(r);return o.jsx(So,{scope:e.__scopeMenu,value:n,onValueChange:s,children:o.jsx(st,{...a,ref:t})})});mn.displayName=vn;var hn="MenuRadioItem",gn=c.forwardRef((e,t)=>{const{value:n,...r}=e,a=Ro(hn,e.__scopeMenu),s=n===a.value;return o.jsx(xn,{scope:e.__scopeMenu,checked:s,children:o.jsx(Ie,{role:"menuitemradio","aria-checked":s,...r,ref:t,"data-state":it(s),onSelect:E(r.onSelect,()=>{var i;return(i=a.onValueChange)==null?void 0:i.call(a,n)},{checkForDefaultPrevented:!1})})})});gn.displayName=hn;var ct="MenuItemIndicator",[xn,No]=Y(ct,{checked:!1}),Cn=c.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...a}=e,s=No(ct,n);return o.jsx(ne,{present:r||Se(s.checked)||s.checked===!0,children:o.jsx(A.span,{...a,ref:t,"data-state":it(s.checked)})})});Cn.displayName=ct;var jo="MenuSeparator",wn=c.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return o.jsx(A.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});wn.displayName=jo;var Po="MenuArrow",bn=c.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,a=Pe(n);return o.jsx(Dt,{...a,...r,ref:t})});bn.displayName=Po;var Io="MenuSub",[Ya,yn]=Y(Io),se="MenuSubTrigger",_n=c.forwardRef((e,t)=>{const n=X(se,e.__scopeMenu),r=pe(se,e.__scopeMenu),a=yn(se,e.__scopeMenu),s=ot(se,e.__scopeMenu),i=c.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:u}=s,m={__scopeMenu:e.__scopeMenu},f=c.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return c.useEffect(()=>f,[f]),c.useEffect(()=>{const d=l.current;return()=>{window.clearTimeout(d),u(null)}},[l,u]),o.jsx(nt,{asChild:!0,...m,children:o.jsx(fn,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":a.contentId,"data-state":Sn(n.open),...e,ref:Ft(t,a.onTriggerChange),onClick:d=>{var v;(v=e.onClick)==null||v.call(e,d),!(e.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:E(e.onPointerMove,le(d=>{s.onItemEnter(d),!d.defaultPrevented&&!e.disabled&&!n.open&&!i.current&&(s.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),f()},100))})),onPointerLeave:E(e.onPointerLeave,le(d=>{var x,b;f();const v=(x=n.content)==null?void 0:x.getBoundingClientRect();if(v){const p=(b=n.content)==null?void 0:b.dataset.side,g=p==="right",h=g?-5:5,w=v[g?"left":"right"],C=v[g?"right":"left"];s.onPointerGraceIntentChange({area:[{x:d.clientX+h,y:d.clientY},{x:w,y:v.top},{x:C,y:v.top},{x:C,y:v.bottom},{x:w,y:v.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(d),d.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:E(e.onKeyDown,d=>{var x;const v=s.searchRef.current!=="";e.disabled||v&&d.key===" "||uo[r.dir].includes(d.key)&&(n.onOpenChange(!0),(x=n.content)==null||x.focus(),d.preventDefault())})})})});_n.displayName=se;var En="MenuSubContent",Mn=c.forwardRef((e,t)=>{const n=cn(k,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,s=X(k,e.__scopeMenu),i=pe(k,e.__scopeMenu),l=yn(En,e.__scopeMenu),u=c.useRef(null),m=T(t,u);return o.jsx(ie.Provider,{scope:e.__scopeMenu,children:o.jsx(ne,{present:r||s.open,children:o.jsx(ie.Slot,{scope:e.__scopeMenu,children:o.jsx(at,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:m,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var d;i.isUsingKeyboardRef.current&&((d=u.current)==null||d.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:E(e.onFocusOutside,f=>{f.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:E(e.onEscapeKeyDown,f=>{i.onClose(),f.preventDefault()}),onKeyDown:E(e.onKeyDown,f=>{var x;const d=f.currentTarget.contains(f.target),v=fo[i.dir].includes(f.key);d&&v&&(s.onOpenChange(!1),(x=l.trigger)==null||x.focus(),f.preventDefault())})})})})})});Mn.displayName=En;function Sn(e){return e?"open":"closed"}function Se(e){return e==="indeterminate"}function it(e){return Se(e)?"indeterminate":e?"checked":"unchecked"}function ko(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function Ao(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function To(e,t,n){const a=t.length>1&&Array.from(t).every(m=>m===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let i=Ao(e,Math.max(s,0));a.length===1&&(i=i.filter(m=>m!==n));const u=i.find(m=>m.toLowerCase().startsWith(a.toLowerCase()));return u!==n?u:void 0}function Oo(e,t){const{x:n,y:r}=e;let a=!1;for(let s=0,i=t.length-1;s<t.length;i=s++){const l=t[s],u=t[i],m=l.x,f=l.y,d=u.x,v=u.y;f>r!=v>r&&n<(d-m)*(r-f)/(v-f)+m&&(a=!a)}return a}function Lo(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return Oo(n,t)}function le(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Do=sn,Fo=nt,$o=ln,Ko=un,Bo=st,Go=dn,Uo=Ie,Wo=pn,Vo=mn,Ho=gn,Yo=Cn,Xo=wn,zo=bn,Zo=_n,qo=Mn,ke="DropdownMenu",[Qo,Xa]=ue(ke,[on]),P=on(),[Jo,Rn]=Qo(ke),Nn=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:a,defaultOpen:s,onOpenChange:i,modal:l=!0}=e,u=P(t),m=c.useRef(null),[f,d]=Qe({prop:a,defaultProp:s??!1,onChange:i,caller:ke});return o.jsx(Jo,{scope:t,triggerId:Ee(),triggerRef:m,contentId:Ee(),open:f,onOpenChange:d,onOpenToggle:c.useCallback(()=>d(v=>!v),[d]),modal:l,children:o.jsx(Do,{...u,open:f,onOpenChange:d,dir:r,modal:l,children:n})})};Nn.displayName=ke;var jn="DropdownMenuTrigger",Pn=c.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...a}=e,s=Rn(jn,n),i=P(n);return o.jsx(Fo,{asChild:!0,...i,children:o.jsx(A.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...a,ref:Ft(t,s.triggerRef),onPointerDown:E(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:E(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});Pn.displayName=jn;var ea="DropdownMenuPortal",In=e=>{const{__scopeDropdownMenu:t,...n}=e,r=P(t);return o.jsx($o,{...r,...n})};In.displayName=ea;var kn="DropdownMenuContent",An=c.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Rn(kn,n),s=P(n),i=c.useRef(!1);return o.jsx(Ko,{id:a.contentId,"aria-labelledby":a.triggerId,...s,...r,ref:t,onCloseAutoFocus:E(e.onCloseAutoFocus,l=>{var u;i.current||(u=a.triggerRef.current)==null||u.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:E(e.onInteractOutside,l=>{const u=l.detail.originalEvent,m=u.button===0&&u.ctrlKey===!0,f=u.button===2||m;(!a.modal||f)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});An.displayName=kn;var ta="DropdownMenuGroup",na=c.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=P(n);return o.jsx(Bo,{...a,...r,ref:t})});na.displayName=ta;var ra="DropdownMenuLabel",oa=c.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=P(n);return o.jsx(Go,{...a,...r,ref:t})});oa.displayName=ra;var aa="DropdownMenuItem",Tn=c.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=P(n);return o.jsx(Uo,{...a,...r,ref:t})});Tn.displayName=aa;var sa="DropdownMenuCheckboxItem",ca=c.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=P(n);return o.jsx(Wo,{...a,...r,ref:t})});ca.displayName=sa;var ia="DropdownMenuRadioGroup",la=c.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=P(n);return o.jsx(Vo,{...a,...r,ref:t})});la.displayName=ia;var ua="DropdownMenuRadioItem",da=c.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=P(n);return o.jsx(Ho,{...a,...r,ref:t})});da.displayName=ua;var fa="DropdownMenuItemIndicator",pa=c.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=P(n);return o.jsx(Yo,{...a,...r,ref:t})});pa.displayName=fa;var va="DropdownMenuSeparator",On=c.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=P(n);return o.jsx(Xo,{...a,...r,ref:t})});On.displayName=va;var ma="DropdownMenuArrow",ha=c.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=P(n);return o.jsx(zo,{...a,...r,ref:t})});ha.displayName=ma;var ga="DropdownMenuSubTrigger",xa=c.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=P(n);return o.jsx(Zo,{...a,...r,ref:t})});xa.displayName=ga;var Ca="DropdownMenuSubContent",wa=c.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=P(n);return o.jsx(qo,{...a,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});wa.displayName=Ca;var Et=Nn,Mt=Pn,St=In,Rt=An,L=Tn,Nt=On,Ae="Popover",[Ln,za]=ue(Ae,[Re]),ve=Re(),[ba,U]=Ln(Ae),Dn=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:a,onOpenChange:s,modal:i=!1}=e,l=ve(t),u=c.useRef(null),[m,f]=c.useState(!1),[d,v]=Qe({prop:r,defaultProp:a??!1,onChange:s,caller:Ae});return o.jsx(Tt,{...l,children:o.jsx(ba,{scope:t,contentId:Ee(),triggerRef:u,open:d,onOpenChange:v,onOpenToggle:c.useCallback(()=>v(x=>!x),[v]),hasCustomAnchor:m,onCustomAnchorAdd:c.useCallback(()=>f(!0),[]),onCustomAnchorRemove:c.useCallback(()=>f(!1),[]),modal:i,children:n})})};Dn.displayName=Ae;var Fn="PopoverAnchor",ya=c.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=U(Fn,n),s=ve(n),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=a;return c.useEffect(()=>(i(),()=>l()),[i,l]),o.jsx(qe,{...s,...r,ref:t})});ya.displayName=Fn;var $n="PopoverTrigger",Kn=c.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=U($n,n),s=ve(n),i=T(t,a.triggerRef),l=o.jsx(A.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Hn(a.open),...r,ref:i,onClick:E(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:o.jsx(qe,{asChild:!0,...s,children:l})});Kn.displayName=$n;var lt="PopoverPortal",[_a,Ea]=Ln(lt,{forceMount:void 0}),Bn=e=>{const{__scopePopover:t,forceMount:n,children:r,container:a}=e,s=U(lt,t);return o.jsx(_a,{scope:t,forceMount:n,children:o.jsx(ne,{present:n||s.open,children:o.jsx(et,{asChild:!0,container:a,children:r})})})};Bn.displayName=lt;var te="PopoverContent",Gn=c.forwardRef((e,t)=>{const n=Ea(te,e.__scopePopover),{forceMount:r=n.forceMount,...a}=e,s=U(te,e.__scopePopover);return o.jsx(ne,{present:r||s.open,children:s.modal?o.jsx(Sa,{...a,ref:t}):o.jsx(Ra,{...a,ref:t})})});Gn.displayName=te;var Ma=_e("PopoverContent.RemoveScroll"),Sa=c.forwardRef((e,t)=>{const n=U(te,e.__scopePopover),r=c.useRef(null),a=T(t,r),s=c.useRef(!1);return c.useEffect(()=>{const i=r.current;if(i)return Zt(i)},[]),o.jsx(tt,{as:Ma,allowPinchZoom:!0,children:o.jsx(Un,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:E(e.onCloseAutoFocus,i=>{var l;i.preventDefault(),s.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:E(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,m=l.button===2||u;s.current=m},{checkForDefaultPrevented:!1}),onFocusOutside:E(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),Ra=c.forwardRef((e,t)=>{const n=U(te,e.__scopePopover),r=c.useRef(!1),a=c.useRef(!1);return o.jsx(Un,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,s),s.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),s.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:s=>{var u,m;(u=e.onInteractOutside)==null||u.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=s.target;((m=n.triggerRef.current)==null?void 0:m.contains(i))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),Un=c.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:m,onInteractOutside:f,...d}=e,v=U(te,n),x=ve(n);return Bt(),o.jsx(Je,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:s,children:o.jsx(Ot,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:f,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:m,onDismiss:()=>v.onOpenChange(!1),children:o.jsx(Lt,{"data-state":Hn(v.open),role:"dialog",id:v.contentId,...x,...d,ref:t,style:{...d.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Wn="PopoverClose",Na=c.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=U(Wn,n);return o.jsx(A.button,{type:"button",...r,ref:t,onClick:E(e.onClick,()=>a.onOpenChange(!1))})});Na.displayName=Wn;var ja="PopoverArrow",Vn=c.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=ve(n);return o.jsx(Dt,{...a,...r,ref:t})});Vn.displayName=ja;function Hn(e){return e?"open":"closed"}var Pa=Dn,Ia=Kn,ka=Bn,Aa=Gn,Ta=Vn;const Yn="b0d797f053110a25f57317b8e7ba3b06",Oa="https://api.themoviedb.org/3",He="https://image.tmdb.org/t/p/w500",Za=async(e,t,n="es-ES")=>{var r;try{const s=await fetch(`${Oa}/${e==="tv"?"tv":"movie"}/${t}?api_key=${Yn}&language=${n}&append_to_response=credits,external_ids`);if(!s.ok){if(s.status===404)return{success:!1,error:"Contenido no encontrado"};throw new Error(`Error HTTP ${s.status}: ${s.statusText}`)}const i=await s.json();return i.id?{...i,success:!0,media_type:e,title:i.title||i.name,original_title:i.original_title||i.original_name,release_date:i.release_date||i.first_air_date,poster_path:i.poster_path,backdrop_path:i.backdrop_path,overview:i.overview,vote_average:i.vote_average,popularity:i.popularity,genres:i.genres||[],genre_ids:((r=i.genres)==null?void 0:r.map(l=>l.id))||[],runtime:i.runtime,number_of_seasons:i.number_of_seasons,number_of_episodes:i.number_of_episodes,status:i.status,in_production:i.in_production,origin_country:i.origin_country||[],original_language:i.original_language,credits:i.credits,external_ids:i.external_ids}:{success:!1,error:"Datos inválidos de TMDB"}}catch(a){return console.error("Error obteniendo contenido de TMDB:",a),{success:!1,error:a.message}}},qa=(e,t)=>{var r,a,s,i,l;if(!e||e.success===!1)return null;const n=e.release_date||e.first_air_date;return{id:e.id,nombre:e.title||e.name,nombre_original:e.original_title||e.original_name,anio:n?new Date(n).getFullYear():null,sinopsis:e.overview||"Sin sinopsis disponible",imagen:e.poster_path?`${He}${e.poster_path}`:null,backdrop:e.backdrop_path?`${He}${e.backdrop_path}`:null,generos:((r=e.genres)==null?void 0:r.map(u=>u.name))||[],puntuacion:e.vote_average||0,popularidad:e.popularity||0,duracion:e.runtime||null,temporadas:e.number_of_seasons||null,episodios_totales:e.number_of_episodes||null,estado_serie:e.status||null,en_emision:e.in_production||!1,finalizada:t==="movie"?!0:e.status==="Ended",fecha_estreno:n,media_type:t,tipo:La(e,t),reparto:((i=(s=(a=e.credits)==null?void 0:a.cast)==null?void 0:s.slice(0,10))==null?void 0:i.map(u=>({nombre:u.name,personaje:u.character,foto:u.profile_path?`${He}${u.profile_path}`:null})))||[],external_ids:e.external_ids||{},genre_ids:e.genre_ids||((l=e.genres)==null?void 0:l.map(u=>u.id))||[],original_language:e.original_language,origin_country:e.origin_country||[]}};function La(e,t){var n,r;if(t==="movie")return"Película";if(e.genres){const a=e.genres.map(s=>s.name.toLowerCase());if(a.some(s=>s.includes("animat")||s.includes("anime")))return"Anime";if(a.some(s=>s.includes("drama"))&&((n=e.origin_country)!=null&&n.includes("KR")))return"K-Drama";if((r=e.origin_country)!=null&&r.some(s=>["KR","JP","CN","TH","TW"].includes(s)))return"Dorama"}return"Serie"}function jt(e){return{id:e.id,media_type:e.media_type,nombre:e.nombre,anio:e.anio,imagen:e.imagen,tipo:e.tipo,fromSupabase:!!e.fromSupabase}}function Da(e){const{idioma:t}=Ne(),[n,r]=c.useState([]),[a,s]=c.useState(!1),[i,l]=c.useState(null);return c.useEffect(()=>{if(!e||e.length<2){r([]),l(null);return}s(!0),l(null);const m=setTimeout(async()=>{try{const f=(t==null?void 0:t.slice(0,2))||"es",{data:d}=await H.from("contenido").select(`
            id, 
            media_type, 
            tipo, 
            anio, 
            imagen,
            contenido_traducciones!inner(nombre)
          `).ilike("contenido_traducciones.nombre",`%${e}%`).eq("contenido_traducciones.idioma",f).limit(10),b=((await(await fetch(`https://api.themoviedb.org/3/search/multi?api_key=${Yn}&language=${t}&query=${encodeURIComponent(e)}`)).json()).results||[]).filter(h=>h.media_type==="tv"||h.media_type==="movie").map(h=>{var w;return{id:h.id,media_type:h.media_type,nombre:h.name||h.title,anio:(w=h.first_air_date||h.release_date)==null?void 0:w.slice(0,4),imagen:h.poster_path?`https://image.tmdb.org/t/p/w92${h.poster_path}`:null,tipo:h.media_type==="tv"?"Serie":"Película",fromSupabase:!1}}),p=new Set((d||[]).map(h=>h.id)),g=[...(d||[]).map(h=>{var C;let w=h.media_type;return w!=="tv"&&w!=="movie"&&(h.tipo==="Serie"?w="tv":(h.tipo,w="movie")),jt({...h,nombre:((C=h.contenido_traducciones[0])==null?void 0:C.nombre)||`ID: ${h.id}`,fromSupabase:!0,media_type:w})}),...b.filter(h=>!p.has(h.id)).map(jt)];r(g)}catch{l("Error en la búsqueda"),r([])}finally{s(!1)}},400);return()=>clearTimeout(m)},[e,t]),{resultados:n,loading:a,error:i}}function Pt(){const[e,t]=c.useState(""),n=qn(),{esAdmin:r}=Ne(),{resultados:a,loading:s,error:i}=Da(e),l=u=>{!(u!=null&&u.id)||!u.media_type||n(`/detalle/${u.media_type}/${u.id}`)};return o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",className:"border rounded px-3 py-1 w-full",placeholder:"Buscar series, películas o animes...",value:e,onChange:u=>t(u.target.value),"aria-label":"Buscar contenido"}),s&&o.jsx("div",{className:"absolute left-0 right-0 text-center py-2",children:"Buscando..."}),i&&o.jsx("div",{className:"absolute left-0 right-0 text-center py-2 text-red-600",children:i}),a.length>0&&o.jsx("ul",{className:"absolute z-10 bg-white border rounded w-full max-h-80 overflow-y-auto shadow-lg",children:a.map((u,m)=>o.jsxs("li",{className:"flex items-center gap-3 px-3 py-2 hover:bg-gray-100 cursor-pointer",onClick:()=>l(u),children:[u.imagen?o.jsx("img",{src:u.imagen,alt:u.nombre,className:"w-12 h-18 rounded object-cover"}):o.jsx("div",{className:"w-12 h-18 bg-gray-300 rounded flex items-center justify-center text-xs text-gray-500",children:"Sin imagen"}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("p",{className:"text-sm font-medium text-black",children:u.nombre}),r&&u.fromSupabase&&o.jsx("span",{className:"px-1 py-0.5 text-xs bg-green-100 text-green-800 rounded",children:"Guardado"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[o.jsx("span",{children:u.anio||""}),o.jsx("span",{className:"uppercase",children:u.tipo})]})]})]},`${u.media_type}-${u.id}-${m}`))})]})}function Te(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,s;for(s=0;s<r.length;s++)a=r[s],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}var Fa=["color"],$a=c.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,a=Te(e,Fa);return c.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a,{ref:t}),c.createElement("path",{d:"M8.60124 1.25086C8.60124 1.75459 8.26278 2.17927 7.80087 2.30989C10.1459 2.4647 12 4.41582 12 6.79999V10.25C12 11.0563 12.0329 11.7074 12.7236 12.0528C12.931 12.1565 13.0399 12.3892 12.9866 12.6149C12.9333 12.8406 12.7319 13 12.5 13H8.16144C8.36904 13.1832 8.49997 13.4513 8.49997 13.75C8.49997 14.3023 8.05226 14.75 7.49997 14.75C6.94769 14.75 6.49997 14.3023 6.49997 13.75C6.49997 13.4513 6.63091 13.1832 6.83851 13H2.49999C2.2681 13 2.06664 12.8406 2.01336 12.6149C1.96009 12.3892 2.06897 12.1565 2.27638 12.0528C2.96708 11.7074 2.99999 11.0563 2.99999 10.25V6.79999C2.99999 4.41537 4.85481 2.46396 7.20042 2.3098C6.73867 2.17908 6.40036 1.75448 6.40036 1.25086C6.40036 0.643104 6.89304 0.150421 7.5008 0.150421C8.10855 0.150421 8.60124 0.643104 8.60124 1.25086ZM7.49999 3.29999C5.56699 3.29999 3.99999 4.86699 3.99999 6.79999V10.25L4.00002 10.3009C4.0005 10.7463 4.00121 11.4084 3.69929 12H11.3007C10.9988 11.4084 10.9995 10.7463 11 10.3009L11 10.25V6.79999C11 4.86699 9.43299 3.29999 7.49999 3.29999Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),Ka=["color"],Qa=c.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,a=Te(e,Ka);return c.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a,{ref:t}),c.createElement("path",{d:"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),Ba=["color"],Ja=c.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,a=Te(e,Ba);return c.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a,{ref:t}),c.createElement("path",{d:"M6.97942 1.25171L6.9585 1.30199L5.58662 4.60039C5.54342 4.70426 5.44573 4.77523 5.3336 4.78422L1.7727 5.0697L1.71841 5.07405L1.38687 5.10063L1.08608 5.12475C0.820085 5.14607 0.712228 5.47802 0.914889 5.65162L1.14406 5.84793L1.39666 6.06431L1.43802 6.09974L4.15105 8.42374C4.23648 8.49692 4.2738 8.61176 4.24769 8.72118L3.41882 12.196L3.40618 12.249L3.32901 12.5725L3.25899 12.866C3.19708 13.1256 3.47945 13.3308 3.70718 13.1917L3.9647 13.0344L4.24854 12.861L4.29502 12.8326L7.34365 10.9705C7.43965 10.9119 7.5604 10.9119 7.6564 10.9705L10.705 12.8326L10.7515 12.861L11.0354 13.0344L11.2929 13.1917C11.5206 13.3308 11.803 13.1256 11.7411 12.866L11.671 12.5725L11.5939 12.249L11.5812 12.196L10.7524 8.72118C10.7263 8.61176 10.7636 8.49692 10.849 8.42374L13.562 6.09974L13.6034 6.06431L13.856 5.84793L14.0852 5.65162C14.2878 5.47802 14.18 5.14607 13.914 5.12475L13.6132 5.10063L13.2816 5.07405L13.2274 5.0697L9.66645 4.78422C9.55432 4.77523 9.45663 4.70426 9.41343 4.60039L8.04155 1.30199L8.02064 1.25171L7.89291 0.944609L7.77702 0.665992C7.67454 0.419604 7.32551 0.419604 7.22303 0.665992L7.10715 0.944609L6.97942 1.25171ZM7.50003 2.60397L6.50994 4.98442C6.32273 5.43453 5.89944 5.74207 5.41351 5.78103L2.84361 5.98705L4.8016 7.66428C5.17183 7.98142 5.33351 8.47903 5.2204 8.95321L4.62221 11.461L6.8224 10.1171C7.23842 9.86302 7.76164 9.86302 8.17766 10.1171L10.3778 11.461L9.77965 8.95321C9.66654 8.47903 9.82822 7.98142 10.1984 7.66428L12.1564 5.98705L9.58654 5.78103C9.10061 5.74207 8.67732 5.43453 8.49011 4.98442L7.50003 2.60397Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),Ga=["color"],es=c.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,a=Te(e,Ga);return c.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a,{ref:t}),c.createElement("path",{d:"M7.22303 0.665992C7.32551 0.419604 7.67454 0.419604 7.77702 0.665992L9.41343 4.60039C9.45663 4.70426 9.55432 4.77523 9.66645 4.78422L13.914 5.12475C14.18 5.14607 14.2878 5.47802 14.0852 5.65162L10.849 8.42374C10.7636 8.49692 10.7263 8.61176 10.7524 8.72118L11.7411 12.866C11.803 13.1256 11.5206 13.3308 11.2929 13.1917L7.6564 10.9705C7.5604 10.9119 7.43965 10.9119 7.34365 10.9705L3.70718 13.1917C3.47945 13.3308 3.19708 13.1256 3.25899 12.866L4.24769 8.72118C4.2738 8.61176 4.23648 8.49692 4.15105 8.42374L0.914889 5.65162C0.712228 5.47802 0.820086 5.14607 1.08608 5.12475L5.3336 4.78422C5.44573 4.77523 5.54342 4.70426 5.58662 4.60039L7.22303 0.665992Z",fill:r}))});function Ua(e){const[t,n]=c.useState([]),[r,a]=c.useState(!1),s=c.useCallback(()=>{e!=null&&e.id&&(a(!0),H.from("notificaciones_usuario").select("*").eq("user_id",e.id).order("creada_en",{ascending:!1}).then(({data:i})=>{n(i||[]),a(!1)}))},[e]);return c.useEffect(()=>{s();const i=()=>s();return window.addEventListener("notificacion-enviada",i),()=>window.removeEventListener("notificacion-enviada",i)},[s]),{notificaciones:t,loading:r,refetch:s}}function It({usuario:e}){const{notificaciones:t,refetch:n}=Ua(e),[r,a]=c.useState(!1),s=t.filter(u=>!u.leida),i=async u=>{await H.from("notificaciones_usuario").update({leida:!0}).eq("id",u),n()},l=async u=>{await H.from("notificaciones_usuario").delete().eq("id",u),n()};return o.jsxs(Pa,{open:r,onOpenChange:a,children:[o.jsx(Ia,{asChild:!0,children:o.jsxs("button",{className:"relative","aria-label":"Notificaciones",children:[o.jsx($a,{className:"w-5 h-5"}),s.length>0&&o.jsx("span",{className:"absolute top-0 right-0 w-2 h-2 bg-red-500 rounded-full"})]})}),o.jsx(ka,{children:o.jsxs(Aa,{side:"bottom",align:"end",className:"w-80 bg-white shadow-lg rounded p-2 z-50",sideOffset:8,children:[o.jsx("h3",{className:"font-bold mb-2 text-black",children:"Notificaciones"}),s.length>0&&o.jsx("button",{className:"mb-2 text-xs text-blue-700 underline",onClick:async()=>{const u=s.map(m=>m.id);u.length>0&&(await H.from("notificaciones_usuario").update({leida:!0}).in("id",u),n())},children:"Marcar todas como leídas"}),o.jsx("div",{className:"max-h-96 overflow-y-auto",children:t.length===0?o.jsx("p",{className:"text-gray-500 text-sm",children:"No tienes notificaciones."}):o.jsx("ul",{children:t.map(u=>o.jsxs("li",{className:`mb-2 flex items-start gap-2 rounded transition-all bg-white ${u.leida?"border-l-0":"border-l-4 border-red-500"}`,style:{borderLeftWidth:u.leida?0:3},children:[o.jsx("img",{src:u.imagen&&(u.imagen.startsWith("http")||u.imagen.startsWith("/"))?u.imagen:void 0,alt:"Notificación",className:"w-10 h-auto object-cover rounded mr-2 flex-shrink-0",style:{display:u.imagen&&(u.imagen.startsWith("http")||u.imagen.startsWith("/"))?"block":"none"}}),u.imagen&&!(u.imagen.startsWith("http")||u.imagen.startsWith("/"))&&o.jsx("span",{className:"w-10 h-10 flex items-center justify-center text-3xl mr-2",children:u.imagen}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("a",{href:u.url,className:`block ${u.leida?"text-gray-400":"font-semibold"}`,onClick:async()=>{await i(u.id),a(!1)},children:[o.jsx("div",{children:u.titulo}),o.jsx("div",{className:"text-xs text-gray-500",children:u.mensaje})]}),o.jsxs("div",{className:"flex gap-2 mt-1",children:[!u.leida&&o.jsx("button",{className:"text-xs text-blue-600 underline",title:"Marcar como leído",onClick:async m=>{m.preventDefault(),await i(u.id)},children:"Marcar como leído"}),o.jsx("button",{className:"text-xs text-red-600 underline",title:"Borrar notificación",onClick:async m=>{m.preventDefault(),await l(u.id)},children:"Borrar"})]})]})]},u.id))})}),o.jsx(Ta,{className:"fill-white"})]})})]})}function Wa({abierto:e,setAbierto:t}){const{usuario:n,perfil:r}=Ne(),a=async()=>{await H.auth.signOut(),window.location.href="/login"};return o.jsxs(o.Fragment,{children:[e&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-0 z-40",onClick:()=>t(!1)}),o.jsxs("div",{className:`fixed top-0 left-0 h-full w-64 bg-white shadow-lg transform transition-transform duration-300 z-50
          ${e?"translate-x-0":"-translate-x-full"}`,children:[o.jsxs("div",{className:"p-4 border-b font-semibold text-gray-800 flex items-center justify-between",children:[o.jsx("span",{children:n?`👋 Hola, ${(r==null?void 0:r.nick)||"Usuario"}`:"👋 Bienvenido"}),o.jsx("button",{onClick:()=>t(!1),className:"text-gray-500 hover:text-gray-800 text-2xl font-bold","aria-label":"Cerrar menú",children:"×"})]}),o.jsxs("ul",{className:"p-4 space-y-4",children:[o.jsx("li",{children:o.jsx(N,{to:"/",onClick:()=>t(!1),className:"block text-gray-800 hover:text-blue-600",children:"Inicio"})}),n&&o.jsx("li",{children:o.jsx(N,{to:"/perfil",onClick:()=>t(!1),className:"block text-gray-800 hover:text-blue-600",children:"Mi perfil"})}),o.jsx("li",{children:o.jsx(N,{to:"/catalogo",onClick:()=>t(!1),className:"block text-gray-800 hover:text-blue-600",children:"Catálogo"})}),o.jsx("li",{children:o.jsx(N,{to:"/pro",onClick:()=>t(!1),className:"block text-gray-800 hover:text-blue-600",children:"Ventajas PRO"})}),n?o.jsxs(o.Fragment,{children:[o.jsx("li",{children:o.jsx(N,{to:"/preferencias",onClick:()=>t(!1),className:"block text-gray-800 hover:text-blue-600",children:"Preferencias"})}),o.jsx("li",{children:o.jsx("button",{onClick:a,className:"text-left w-full text-red-600 hover:text-red-700",children:"Cerrar sesión"})})]}):o.jsx("li",{children:o.jsx(N,{to:"/login",onClick:()=>t(!1),className:"block text-blue-600 hover:text-blue-800",children:"Iniciar sesión"})})]})]})]})}function ts(){const{usuario:e,perfil:t,esAdmin:n,loading:r}=Ne(),[a,s]=c.useState(!1),i=async()=>{await H.auth.signOut(),window.location.href="/login"};return r?o.jsx("nav",{className:"w-full bg-gradient-to-b from-slate-900 to-sky-900 text-white py-4 px-6 flex items-center justify-between",children:o.jsx("span",{children:"Cargando..."})}):o.jsxs(o.Fragment,{children:[o.jsxs("nav",{className:"bg-gradient-to-b from-slate-900 to-sky-900 text-white px-6 py-3 fixed top-0 w-full z-50 flex items-center",children:[o.jsxs("button",{className:"md:hidden mr-4 focus:outline-none",onClick:()=>s(!a),children:[o.jsx("span",{className:"block w-6 h-0.5 bg-white mb-1"}),o.jsx("span",{className:"block w-6 h-0.5 bg-white mb-1"}),o.jsx("span",{className:"block w-6 h-0.5 bg-white"})]}),o.jsxs("div",{className:"flex-1 flex flex-col items-center xl:items-start",children:[o.jsxs(N,{to:"/",className:"text-xl font-bold",children:["My Series Log",o.jsx("span",{className:"text-amber-300 text-[0.5em] flex flex-col items-center justify-between",children:"ALPHA"})]}),o.jsx("div",{className:"w-full mt-2 md:hidden px-4",children:o.jsx(Pt,{})})]}),o.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[o.jsx("div",{className:"w-64",children:o.jsx(Pt,{})}),e?o.jsxs(o.Fragment,{children:[o.jsxs(Et,{children:[o.jsx(Mt,{asChild:!0,children:o.jsxs("button",{className:"text-sm hover:underline flex items-center gap-1 font-medium",children:[t!=null&&t.nick?`Hola, ${t.nick}`:"Mi cuenta"," ▼"]})}),o.jsx(St,{children:o.jsxs(Rt,{sideOffset:8,className:"min-w-[180px] bg-white rounded shadow-lg py-2 text-gray-900 z-50",children:[o.jsx(L,{asChild:!0,children:o.jsx(N,{to:"/perfil",className:"block px-4 py-2 hover:bg-sky-100",children:"Perfil"})}),o.jsx(L,{asChild:!0,children:o.jsx(N,{to:"/opciones",className:"block px-4 py-2 hover:bg-sky-100",children:"Opciones"})}),o.jsx(L,{asChild:!0,children:o.jsx(N,{to:"/social",className:"block px-4 py-2 hover:bg-sky-100",children:"Social"})}),n&&o.jsx(L,{asChild:!0,children:o.jsx(N,{to:"/admin",className:"block px-4 py-2 hover:bg-sky-100",children:"Admin"})}),o.jsx(Nt,{className:"my-1 h-px bg-gray-200"}),o.jsx(L,{asChild:!0,children:o.jsx("button",{onClick:i,className:"block w-full text-left px-4 py-2 hover:bg-sky-100",children:"Cerrar sesión"})})]})})]}),o.jsx("div",{className:"relative",children:o.jsx(It,{usuario:e})})]}):o.jsx(N,{to:"/login",className:"text-sm hover:underline",children:"Iniciar sesión"})]})]}),o.jsxs("div",{className:`fixed inset-y-0 left-0 w-64 bg-gray-800 text-white transform transition-transform duration-300 ease-in-out z-40
          ${a?"translate-x-0":"-translate-x-full"}`,children:[o.jsxs("div",{className:"p-4 flex items-center justify-between",children:[o.jsx("span",{className:"text-lg font-bold",children:"Menú"}),o.jsx("button",{className:"focus:outline-none",onClick:()=>s(!1),children:"✕"})]}),o.jsxs("ul",{className:"flex flex-col gap-4 px-4 mt-16",children:[o.jsx("li",{children:o.jsx(N,{to:"/",onClick:()=>s(!1),children:"Inicio"})}),e?o.jsxs(o.Fragment,{children:[o.jsx("li",{children:o.jsxs(Et,{children:[o.jsx(Mt,{asChild:!0,children:o.jsxs("button",{className:"text-sm hover:underline flex items-center gap-1 font-medium w-full text-left",children:[t!=null&&t.nick?`Hola, ${t.nick}`:"Mi cuenta"," ▼"]})}),o.jsx(St,{children:o.jsxs(Rt,{sideOffset:8,className:"min-w-[180px] bg-white rounded shadow-lg py-2 text-gray-900 z-50",children:[o.jsx(L,{asChild:!0,children:o.jsx(N,{to:"/perfil",className:"block px-4 py-2 hover:bg-sky-100",onClick:()=>s(!1),children:"Perfil"})}),o.jsx(L,{asChild:!0,children:o.jsx(N,{to:"/opciones",className:"block px-4 py-2 hover:bg-sky-100",onClick:()=>s(!1),children:"Opciones"})}),o.jsx(L,{asChild:!0,children:o.jsx(N,{to:"/social",className:"block px-4 py-2 hover:bg-sky-100",onClick:()=>s(!1),children:"Social"})}),n&&o.jsx(L,{asChild:!0,children:o.jsx(N,{to:"/admin",className:"block px-4 py-2 hover:bg-sky-100",onClick:()=>s(!1),children:"Admin"})}),o.jsx(Nt,{className:"my-1 h-px bg-gray-200"}),o.jsx(L,{asChild:!0,children:o.jsx("button",{onClick:()=>{s(!1),i()},className:"block w-full text-left px-4 py-2 hover:bg-sky-100",children:"Cerrar sesión"})})]})})]})}),o.jsx("li",{children:o.jsx("div",{className:"relative",children:o.jsx(It,{usuario:e})})})]}):o.jsx("li",{children:o.jsx(N,{to:"/login",onClick:()=>s(!1),children:"Iniciar sesión"})})]})]}),o.jsx(Wa,{usuario:e,perfil:t,abierto:a,setAbierto:s})]})}export{Qa as E,Je as F,ts as N,et as P,tt as R,es as S,Ja as a,Ee as b,$t as c,Bt as d,Za as f,Zt as h,qa as p,Qe as u};
